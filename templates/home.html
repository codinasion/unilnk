{% extends "base.html" %}
{% load humanize %}
{% block title %}
    {{ block.super }}
{% endblock title %}
{% block content %}
    <!-- Hero Section -->
    <div class="bg-blue-600 text-white text-center p-10 rounded-lg mb-6">
        <h1 class="text-4xl font-bold">Find the Best Links for What You Need</h1>
        <p class="mt-2">Aggregating working links from the internet to save your time.</p>
    </div>
    <!-- Responsive Table Section -->
    <div class="mb-6 overflow-x-auto">
        <h2 class="text-2xl font-semibold mb-4">Trending Now</h2>
        <p class="text-sm text-gray-600 mb-4">The most clicked links in the past 24 hours.</p>
        <table class="min-w-full bg-white shadow-md rounded-lg">
            <thead class="bg-gray-200">
                <tr>
                    <th class="py-2 px-4 text-left">Name</th>
                    <th class="py-2 px-4 text-left">Category</th>
                    <th class="py-2 px-4 text-left">Clicks</th>
                </tr>
            </thead>
            <tbody>
                {% for trending_item in trending_items %}
                <tr class="border-b">
                    <td class="py-2 px-4">
                        <a href="{% url 'item' trending_item.slug %}"
                           class="text-blue-600 hover:underline">
                        {{ trending_item.title }}
                        </a>
                    </td>
                    <td class="py-2 px-4">
                        {{ trending_item.category }}
                    </td>
                    <td class="py-2 px-4">
                        {{ trending_item.get_total_clicks|intcomma }}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="mb-6 overflow-x-auto">
        <h2 class="text-2xl font-semibold mb-4">Most Popular</h2>
        <p class="text-sm text-gray-600 mb-4">The most clicked links of all time.</p>
        <table class="min-w-full bg-white shadow-md rounded-lg">
            <thead class="bg-gray-200">
                <tr>
                    <th class="py-2 px-4 text-left">Name</th>
                    <th class="py-2 px-4 text-left">Category</th>
                    <th class="py-2 px-4 text-left">Clicks</th>
                </tr>
            </thead>
            <tbody>
                {% for popular_item in popular_items %}
                <tr class="border-b">
                    <td class="py-2 px-4">
                        <a href="{% url 'item' popular_item.slug %}"
                           class="text-blue-600 hover:underline">
                        {{ popular_item.title }}
                        </a>
                    </td>
                    <td class="py-2 px-4">
                        {{ popular_item.category }}
                    </td>
                    <td class="py-2 px-4">
                        {{ popular_item.get_total_clicks|intcomma }}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="mb-6 overflow-x-auto">
        <h2 class="text-2xl font-semibold mb-4">Newly Added</h2>
        <p class="text-sm text-gray-600 mb-4">The most recently added links.</p>
        <table class="min-w-full bg-white shadow-md rounded-lg">
            <thead class="bg-gray-200">
                <tr>
                    <th class="py-2 px-4 text-left">Name</th>
                    <th class="py-2 px-4 text-left">Category</th>
                    <th class="py-2 px-4 text-left">Added</th>
                </tr>
            </thead>
            <tbody>
                {% for recent_item in recent_items %}
                <tr class="border-b">
                    <td class="py-2 px-4">
                        <a href="{% url 'item' recent_item.slug %}"
                           class="text-blue-600 hover:underline">
                        {{ recent_item.title }}
                        </a>
                    </td>
                    <td class="py-2 px-4">
                        {{ recent_item.category }}
                    </td>
                    <td class="py-2 px-4">
                        {{ recent_item.created_at|naturalday|title }}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock content %}
